<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<!-- 반응형 메타 태그 추가 -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<title>임지선</title>
	<script src="js/jquery-3.3.1.min.js"></script>
	<script src="js/jquery.easing.js"></script>
	<script src="js/swiper-bundle.min.js"></script>
	<script src="js/slick.js"></script>
	<style>
      
	</style>
</head>

<body>
	<!-- demo_device 제거, 바로 device_wrap으로 시작 -->
	<div class="device_wrap scroll_bar">
		<!-- 컨텐츠 영역 -->
		<div class="motion_wrap">
			<div class="motion">
				<div class="a_1">
					<img src="images/img_01.png" alt="">
					<div class="font-20 m_top20 font-bold700"><span class="joongang_color">UI 개발자 후보 </span>임지선</div>
				</div>

				<div class="a_2">
					<div class="font-35 font-bold700">중앙일보를 위한,</div> 
				</div>
				<div class="a_3">
					<div class="font-35 font-bold700"><span class="joongang_color">확실한</span> </span> 선택 !</div> 
				</div>
				<div class="a_4">
					<div class="font-35 font-bold700">임지선</div> 
				</div>
				


				<div class="tag_1">
					<div class="tag">#성실함은기본</div>
				</div>
				<div class="tag_2">
					<div class="tag">#준비성철저</div>
				</div>
				<div class="tag_3">
					<div class="tag">#계속배우는사람</div>
				</div>
				<div class="tag_4">
					<div class="tag">#PixelPerfect구현</div>
				</div>
				<div class="tag_5">
					<div class="tag">#컴포넌트기반개발</div>
				</div>
				<div class="a_btn">
					<div class="bg"></div>
					<div class="dot"></div>

					<div class="off">
						<img src="images/a_btn_off.png" alt="">
					</div>

					<div class="on">
						<img src="images/a_btn_on.png" alt="">
					</div>
				</div>

				<div class="a_10">
					<div class="font-35 font-bold700">경험으로 말하고 </div> 
				</div>
				<div class="a_11">
					<div class="font-35 font-bold700">완성도로 설득합니다.</div> 
				</div>
			</div>
		</div>
		<div class="main_content scroll_motion">
			<div class="main_top">
				<div class="ani_sm ani_type_top item item_1">
					<div class="ani_item">
						<img src="images/img_12.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_2">
					<div class="ani_item">
						<img src="images/img_13.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_3">
					<div class="ani_item">
						<img src="images/img_14.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_4">
					<div class="ani_item">
						<img src="images/img_09.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_5">
					<div class="ani_item">
						<img src="images/img_15.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_6">
					<div class="ani_item">
						<img src="images/img_16.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_6_1">
					<div class="ani_item">
						<img src="images/img_17.png" alt="">
					</div>
				</div>
			</div>
			<div class="main_intro">
				<div class="ani_sm ani_type_top item item_7">
					<div class="ani_item">
						<img src="images/img_18.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_8">
					<div class="ani_item">
						<img src="images/img_19.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_9">
					<div class="ani_item">
						<img src="images/img_20.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_10">
					<div class="ani_item">
						<img src="images/img_21.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_11">
					<div class="ani_item">
						<img src="images/img_22.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_12">
					<div class="ani_item">
						<img src="images/img_23.png" alt="">
					</div>
				</div>
			</div>
			<div class="main_bottom">
				<div class="line"></div>
				<div class="line2"></div>

				<div class="ani_sm ani_type_top item item_13">
					<div class="ani_item">
						<img src="images/img_24.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_14">
					<div class="ani_item">
						<img src="images/img_25.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_15">
					<div class="ani_item">
						<img src="images/img_26.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_16">
					<div class="ani_item">
						<img src="images/img_27.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_right item item_27">
					<div class="ani_item">
						<img src="images/01.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_right item item_17">
					<div class="ani_item">
						<img src="images/img_28.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_right item item_18">
					<div class="ani_item">
						<img src="images/img_29.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_right item item_28">
					<div class="ani_item">
						<img src="images/02.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_19">
					<div class="ani_item">
						<img src="images/img_30.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_right item item_20">
					<div class="ani_item">
						<img src="images/img_31.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_right item item_21">
					<div class="ani_item">
						<img src="images/img_32.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_22">
					<div class="ani_item">
						<img src="images/img_33.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_right item item_29">
					<div class="ani_item">
						<img src="images/03.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_right item item_23">
					<div class="ani_item">
						<img src="images/img_34.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_right item item_24">
					<div class="ani_item">
						<img src="images/img_35.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_top item item_25">
					<div class="ani_item">
						<img src="images/img_36.png" alt="">
					</div>
				</div>
				<div class="ani_sm ani_type_alpha item item_26">
					<div class="ani_item">
						<img src="images/img_37.png" alt="">
					</div>
				</div>
			</div>
		</div>
		<!-- //컨텐츠 영역 -->
	</div>
	<!-- demo_device_back 제거 -->

	<script src="js/smooth-scrollbar.js"></script>
	<script src="js/gsap-public/minified/gsap.min.js"></script>
	<script src="js/gsap-public/minified/ScrollTrigger.min.js"></script>
	<script src="js/gsap-public/minified/MotionPathPlugin.min.js"></script>
	<script>
		// 브라우저 크기에 따른 요소 크기 조정을 위한 함수 추가
function adjustElementsForScreenSize() {
  var screenWidth = window.innerWidth;
  // 애니메이션 요소 위치 조정 로직 필요 시 여기에 추가
}

// 페이지 로드 및 리사이즈 시 실행
$(window).on('load resize', function() {
  adjustElementsForScreenSize();
});

// 스크롤바 플러그인 초기화
var scrollObj = window.Scrollbar.init(document.querySelector('.scroll_bar'), {thumbMinSize:10, speed:2});

ScrollTrigger.scrollerProxy(".scroll_bar", {
  scrollTop(value) {
    if (arguments.length) {
      scrollObj.scrollTop = value;
    }
    return scrollObj.scrollTop;
  }
});

scrollObj.addListener(function(e) {
  var _this = this;
  ScrollTrigger.update();
  var scrollTop = this.scrollTop + _this.bounding.top;
  var srcollSec = _this.bounding.bottom - _this.bounding.top;

  $('.fixed_panel').each(function(i, v) {
    $(this).css('transform', 'translate(0, '+ (_this.scrollTop - ($(this).height() -  $('.motion').height())) + 'px)');
  });

  scrollAni();
});

function scrollAni() {
  var srcollSec = scrollObj.bounding.bottom - scrollObj.bounding.top;

  $.each($('.scroll_motion').find('.ani_sm'), function(i, v) {
    if ($(this).is('.ani_none')) {
      return;
    }
    var thisPosTop = $(this).offset().top - scrollObj.bounding.top;

    var thisPosTopUp = ($(this).offset().top - scrollObj.bounding.top);
    // 콘텐츠 밑에서 위로 나올 때
    if (srcollSec - 50 > thisPosTop && !$(this).is('.ani_active') && !$(this).is('.ani_back')) {
      $(this).addClass('ani_active');
    }

    // 콘텐츠 위/아래로 빠질때
    if ((thisPosTop + 150) < 0 && $(this).is('.ani_active')) {
    } else if ((thisPosTop + 50) > srcollSec && $(this).is('.ani_active')) {
      $(this).removeClass('ani_back ani_active');
    }
  });
}

ScrollTrigger.defaults({ scroller: document.querySelector('.scroll_bar') });

gsap.config({
  force3D: true
});

gsap.registerPlugin(ScrollTrigger);

gsap.fromTo('.a_1', {opacity:0}, {opacity:1, delay:0.3, ease: 'power1.out', onStart:function() {
  $('.motion_wrap, .main_content').css('opacity', '1');
}, onComplete:function() {
}});

// GSAP 애니메이션 타임라인
gsap.timeline({
  scrollTrigger: {
    pinnedContainer: '.motion_wrap',
    trigger: '.motion',
    start: 'top 0',  // 상단에서 시작
    endTrigger: ".main_content",
    end: "top -300%",
    pin: true,
    scrub: 0.8,
    onLeave: function(progress, direction, isActive) {
      $('.motion_wrap').addClass('fixed_panel');
    },
    onEnterBack: function(progress, direction, isActive) {
      $('.motion_wrap').removeClass('fixed_panel').css('transform', '');
    },
  }
})
// 첫 번째 요소 사라짐
.fromTo('.a_1', {opacity: 1, top: '45%'}, {opacity: 0, top: '45%', ease: 'power1.out'})

// 텍스트 요소들 나타남 - 텍스트 3개 모두 동시에 나타나게 함
.fromTo('.a_2', {top: '10%', opacity: 0}, {top: '20%', opacity: 1, duration: 1, ease: 'power1.out'})
.fromTo('.a_3', {top: '20%', opacity: 0}, {top: '30%', opacity: 1, duration: 1, ease: 'power1.out'}, '<0.1')
.fromTo('.a_4', {top: '30%', opacity: 0}, {top: '40%', opacity: 1, duration: 1, ease: 'power1.out'}, '<0.2')
.fromTo('.tag_1', {top: '60%', opacity: 0}, {top: '78%', opacity: 1, duration: 1, ease: 'power1.out'})
.fromTo('.tag_2', {top: '65%', opacity: 0}, {top: '89%', opacity: 1, duration: 1, ease: 'power1.out'})
.fromTo('.tag_3', {top: '60%', opacity: 0}, {top: '94%', opacity: 1, duration: 1, ease: 'power1.out'})
.fromTo('.tag_4', {top: '67%', opacity: 0}, {top: '69%', opacity: 1, duration: 1, ease: 'power1.out'})
.fromTo('.tag_5', {top: '57%', opacity: 0}, {top: '62%', opacity: 1, duration: 1, ease: 'power1.out'})


.to('.a_2', {top: '-20%', opacity: 0, duration: 1.5, ease: 'power1.in'}, 'moveUp')
.to('.a_3', {top: '-10%', opacity: 0, duration: 1.5, ease: 'power1.in'}, 'moveUp+=0.1')
.to('.a_4', {top: '0%', opacity: 0, duration: 1.5, ease: 'power1.in'}, 'moveUp+=0.2')
.to('.tag_1', {top: '58%', opacity: 0, duration: 1.5, ease: 'power1.in'}, 'moveUp')
.to('.tag_2', {top: '69%', opacity: 0, duration: 1.5, ease: 'power1.in'}, 'moveUp+=0.1')
.to('.tag_3', {top: '74%', opacity: 0, duration: 1.5, ease: 'power1.in'}, 'moveUp+=0.2')
.to('.tag_4', {top: '49%', opacity: 0, duration: 1.5, ease: 'power1.in'}, 'moveUp+=0.15')
.to('.tag_5', {top: '42%', opacity: 0, duration: 1.5, ease: 'power1.in'}, 'moveUp+=0.25')


// 다음 콘텐츠 표시
.fromTo('.a_btn', {top: '72%', opacity: 0}, {top: '62%', opacity: 1, duration: 1, ease: 'power1.out'})

.fromTo('.a_btn', {top: '62%'}, {top: '5%', duration: 2, ease: 'power1.in'})

.fromTo('.a_btn .dot', {left: '8px'}, {left: '63px', duration: 1}, '>-0.3')
.fromTo('.a_btn .off', {opacity: 1}, {opacity: 0, duration: 1}, '<')
.fromTo('.a_btn .on', {opacity: 0}, {opacity: 1, duration: 1}, '<')
.fromTo('.a_btn .bg', {backgroundColor: '#18181d'}, {backgroundColor: '#f6330a'}, '>-0.3')

// 마지막 콘텐츠
.fromTo('.a_10', {top: '35%', opacity: 0}, {top: '25%', opacity: 1, duration: 2, ease: 'power1.in'})
.fromTo('.a_11', {top: '50%', opacity: 0}, {top: '40%', opacity: 1, duration: 1, ease: 'power1.in'});

gsap.to(".line2", {
  ease: "none",
  height: 425,
  scrollTrigger: {
    trigger: ".line2",
    start: "top bottom",
    scrub: 0.5
  }
});

// 초기 실행
adjustElementsForScreenSize();
	</script>
</body>
</html>